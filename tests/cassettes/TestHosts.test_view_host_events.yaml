interactions:
- request:
    body: null
    headers:
      Connection:
      - close
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: GET
    uri: http://localhost/checkmd2/check_mk/webapi.py?output_format=json&effective_attributes=0&_secret=not_a_secret&action=get_all_hosts&_username=automation
  response:
    body:
      string: '{"result": {}, "result_code": 0}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Wed, 27 Mar 2019 18:00:12 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - close
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: GET
    uri: http://localhost/checkmd2/check_mk/webapi.py?output_format=json&_secret=not_a_secret&action=get_all_folders&_username=automation
  response:
    body:
      string: '{"result": {"": {}}, "result_code": 0}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '38'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Wed, 27 Mar 2019 18:00:13 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - close
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: GET
    uri: http://localhost/checkmd2/check_mk/view.py?output_format=json&view_name=events&_secret=not_a_secret&_username=automation
  response:
    body:
      string: "[\n [\n  \"log_icon\", \n  \"log_time\", \n  \"log_type\", \n  \"host\"\
        , \n  \"service_description\", \n  \"log_state_type\", \n  \"log_plugin_output\"\
        \n ], \n [\n  \"\", \n  \"76 m\", \n  \"SERVICE NOTIFICATION\", \n  \"localhost\"\
        , \n  \"Check_MK Discovery\", \n  \"ACKNOWLEDGEMENT (CRITICAL)\", \n  \"CRIT\
        \ - no unmonitored services found, no vanished services found, [agent] Communication\
        \ failed: [Errno 111] Connection refusedCRIT\"\n ], \n [\n  \"\", \n  \"104\
        \ m\", \n  \"SERVICE NOTIFICATION\", \n  \"localhost\", \n  \"PING\", \n \
        \ \"DOWNTIMESTART (OK)\", \n  \"OK - 127.0.0.1: rta 0.010ms, lost 0%\"\n ],\
        \ \n [\n  \"\", \n  \"104 m\", \n  \"SERVICE DOWNTIME ALERT\", \n  \"localhost\"\
        , \n  \"PING\", \n  \"STARTED\", \n  \" Service has entered a period of scheduled\
        \ downtime\"\n ], \n [\n  \"\", \n  \"104 m\", \n  \"SERVICE NOTIFICATION\"\
        , \n  \"localhost\", \n  \"Check_MK Discovery\", \n  \"DOWNTIMESTART (CRITICAL)\"\
        , \n  \"CRIT - no unmonitored services found, no vanished services found,\
        \ [agent] Communication failed: [Errno 111] Connection refusedCRIT\"\n ],\
        \ \n [\n  \"\", \n  \"104 m\", \n  \"SERVICE DOWNTIME ALERT\", \n  \"localhost\"\
        , \n  \"Check_MK Discovery\", \n  \"STARTED\", \n  \" Service has entered\
        \ a period of scheduled downtime\"\n ], \n [\n  \"\", \n  \"23 h\", \n  \"\
        HOST NOTIFICATION\", \n  \"localhost\", \n  \"\", \n  \"DOWNTIMEEND (UP)\"\
        , \n  \"OK - 127.0.0.1: rta 0.005ms, lost 0%\"\n ], \n [\n  \"\", \n  \"23\
        \ h\", \n  \"HOST DOWNTIME ALERT\", \n  \"localhost\", \n  \"\", \n  \"STOPPED\"\
        , \n  \" Host has exited from a period of scheduled downtime\"\n ], \n [\n\
        \  \"\", \n  \"25 h\", \n  \"HOST NOTIFICATION\", \n  \"localhost\", \n  \"\
        \", \n  \"DOWNTIMESTART (UP)\", \n  \"OK - 127.0.0.1: rta 0.010ms, lost 0%\"\
        \n ], \n [\n  \"\", \n  \"25 h\", \n  \"HOST DOWNTIME ALERT\", \n  \"localhost\"\
        , \n  \"\", \n  \"STARTED\", \n  \" Host has entered a period of scheduled\
        \ downtime\"\n ], \n [\n  \"\", \n  \"46 h\", \n  \"SERVICE NOTIFICATION\"\
        , \n  \"localhost\", \n  \"Check_MK Discovery\", \n  \"DOWNTIMEEND (CRITICAL)\"\
        , \n  \"CRIT - no unmonitored services found, no vanished services found,\
        \ [agent] Communication failed: [Errno 111] Connection refusedCRIT\"\n ],\
        \ \n [\n  \"\", \n  \"46 h\", \n  \"SERVICE DOWNTIME ALERT\", \n  \"localhost\"\
        , \n  \"Check_MK Discovery\", \n  \"STOPPED\", \n  \" Service has exited from\
        \ a period of scheduled downtime\"\n ], \n [\n  \"\", \n  \"2019-03-25 17:11:25\"\
        , \n  \"SERVICE NOTIFICATION\", \n  \"localhost\", \n  \"Check_MK Discovery\"\
        , \n  \"DOWNTIMESTART (CRITICAL)\", \n  \"CRIT - no unmonitored services found,\
        \ no vanished services found, [agent] Communication failed: [Errno 111] Connection\
        \ refusedCRIT\"\n ], \n [\n  \"\", \n  \"2019-03-25 17:11:25\", \n  \"SERVICE\
        \ DOWNTIME ALERT\", \n  \"localhost\", \n  \"Check_MK Discovery\", \n  \"\
        STARTED\", \n  \" Service has entered a period of scheduled downtime\"\n ],\
        \ \n [\n  \"\", \n  \"2019-03-25 16:44:17\", \n  \"SERVICE NOTIFICATION\"\
        , \n  \"localhost\", \n  \"Check_MK Discovery\", \n  \"CRITICAL\", \n  \"\
        CRIT - no unmonitored services found, no vanished services found, [agent]\
        \ Communication failed: [Errno 111] Connection refusedCRIT\"\n ], \n [\n \
        \ \"\", \n  \"2019-03-25 16:44:17\", \n  \"SERVICE ALERT\", \n  \"localhost\"\
        , \n  \"Check_MK Discovery\", \n  \"HARD\", \n  \"CRIT - no unmonitored services\
        \ found, no vanished services found, [agent] Communication failed: [Errno\
        \ 111] Connection refusedCRIT\"\n ]\n]"
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '3079'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Wed, 27 Mar 2019 18:00:13 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - close
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: GET
    uri: http://localhost/checkmd2/check_mk/webapi.py?effective_attributes=0&_secret=not_a_secret&output_format=json&_username=automation&action=get_all_hosts
  response:
    body:
      string: '{"result": {}, "result_code": 0}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Wed, 27 Mar 2019 18:33:50 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - close
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: GET
    uri: http://localhost/checkmd2/check_mk/webapi.py?_secret=not_a_secret&output_format=json&_username=automation&action=get_all_folders
  response:
    body:
      string: '{"result": {"": {}}, "result_code": 0}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '38'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Wed, 27 Mar 2019 18:33:50 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - close
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: GET
    uri: http://localhost/checkmd2/check_mk/view.py?view_name=notifications&_secret=not_a_secret&output_format=json&_username=automation
  response:
    body:
      string: "[\n [\n  \"log_icon\", \n  \"log_time\", \n  \"log_contact_name\",\
        \ \n  \"log_command\", \n  \"log_type\", \n  \"host\", \n  \"service_description\"\
        , \n  \"log_state\", \n  \"log_plugin_output\"\n ], \n [\n  \"\", \n  \"18\
        \ m\", \n  \"check-mk-notify\", \n  \"check-mk-notify\", \n  \"SERVICE NOTIFICATION\"\
        , \n  \"localhost\", \n  \"PING\", \n  \"OK\", \n  \"OK - 127.0.0.1: rta 0.007ms,\
        \ lost 0%\"\n ], \n [\n  \"\", \n  \"18 m\", \n  \"check-mk-notify\", \n \
        \ \"check-mk-notify\", \n  \"SERVICE NOTIFICATION\", \n  \"localhost\", \n\
        \  \"Check_MK Discovery\", \n  \"CRIT\", \n  \"CRIT - no unmonitored services\
        \ found, no vanished services found, [agent] Communication failed: [Errno\
        \ 111] Connection refusedCRIT\"\n ], \n [\n  \"\", \n  \"110 m\", \n  \"check-mk-notify\"\
        , \n  \"check-mk-notify\", \n  \"SERVICE NOTIFICATION\", \n  \"localhost\"\
        , \n  \"Check_MK Discovery\", \n  \"CRIT\", \n  \"CRIT - no unmonitored services\
        \ found, no vanished services found, [agent] Communication failed: [Errno\
        \ 111] Connection refusedCRIT\"\n ], \n [\n  \"\", \n  \"138 m\", \n  \"check-mk-notify\"\
        , \n  \"check-mk-notify\", \n  \"SERVICE NOTIFICATION\", \n  \"localhost\"\
        , \n  \"PING\", \n  \"OK\", \n  \"OK - 127.0.0.1: rta 0.010ms, lost 0%\"\n\
        \ ], \n [\n  \"\", \n  \"138 m\", \n  \"check-mk-notify\", \n  \"check-mk-notify\"\
        , \n  \"SERVICE NOTIFICATION\", \n  \"localhost\", \n  \"Check_MK Discovery\"\
        , \n  \"CRIT\", \n  \"CRIT - no unmonitored services found, no vanished services\
        \ found, [agent] Communication failed: [Errno 111] Connection refusedCRIT\"\
        \n ], \n [\n  \"\", \n  \"23 h\", \n  \"check-mk-notify\", \n  \"check-mk-notify\"\
        , \n  \"HOST NOTIFICATION\", \n  \"localhost\", \n  \"\", \n  \"UP\", \n \
        \ \"OK - 127.0.0.1: rta 0.005ms, lost 0%\"\n ], \n [\n  \"\", \n  \"26 h\"\
        , \n  \"check-mk-notify\", \n  \"check-mk-notify\", \n  \"HOST NOTIFICATION\"\
        , \n  \"localhost\", \n  \"\", \n  \"UP\", \n  \"OK - 127.0.0.1: rta 0.010ms,\
        \ lost 0%\"\n ], \n [\n  \"\", \n  \"47 h\", \n  \"check-mk-notify\", \n \
        \ \"check-mk-notify\", \n  \"SERVICE NOTIFICATION\", \n  \"localhost\", \n\
        \  \"Check_MK Discovery\", \n  \"CRIT\", \n  \"CRIT - no unmonitored services\
        \ found, no vanished services found, [agent] Communication failed: [Errno\
        \ 111] Connection refusedCRIT\"\n ], \n [\n  \"\", \n  \"2019-03-25 17:11:25\"\
        , \n  \"check-mk-notify\", \n  \"check-mk-notify\", \n  \"SERVICE NOTIFICATION\"\
        , \n  \"localhost\", \n  \"Check_MK Discovery\", \n  \"CRIT\", \n  \"CRIT\
        \ - no unmonitored services found, no vanished services found, [agent] Communication\
        \ failed: [Errno 111] Connection refusedCRIT\"\n ], \n [\n  \"\", \n  \"2019-03-25\
        \ 16:44:17\", \n  \"check-mk-notify\", \n  \"check-mk-notify\", \n  \"SERVICE\
        \ NOTIFICATION\", \n  \"localhost\", \n  \"Check_MK Discovery\", \n  \"CRIT\"\
        , \n  \"CRIT - no unmonitored services found, no vanished services found,\
        \ [agent] Communication failed: [Errno 111] Connection refusedCRIT\"\n ]\n\
        ]"
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '2589'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Wed, 27 Mar 2019 18:33:50 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
version: 1
