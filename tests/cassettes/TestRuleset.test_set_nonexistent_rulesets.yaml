interactions:
- request:
    body: 'request={''ruleset_name'': ''nonexistent'', ''ruleset'': {}}'
    headers:
      Connection:
      - close
      Content-Length:
      - '54'
      Content-Type:
      - application/x-www-form-urlencoded
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: POST
    uri: http://localhost/checkmd2/check_mk/webapi.py?output_format=json&_secret=not_a_secret&action=set_ruleset
  response:
    body:
      string: '{"result": "Unhandled exception: Traceback (most recent call last):\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/webapi.py\", line 251, in
        page_api\n    action_response = api_actions[action][\"handler\"](request_object)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        625, in _set\n    ruleset_dict = self._get_ruleset_configuration(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        586, in _get_ruleset_configuration\n    ruleset = collection.get(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/watolib.py\", line 7813, in
        get\n    return self._rulesets[name]\nKeyError: ''nonexistent''\n", "result_code":
        1}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '720'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Fri, 22 Mar 2019 15:32:10 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: 'request={''ruleset_name'': ''nonexistent'', ''ruleset'': {}}'
    headers:
      Connection:
      - close
      Content-Length:
      - '54'
      Content-Type:
      - application/x-www-form-urlencoded
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: POST
    uri: http://localhost/checkmd2/check_mk/webapi.py?output_format=json&_secret=not_a_secret&request_format=python
  response:
    body:
      string: '{"result": "Unhandled exception: Traceback (most recent call last):\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/webapi.py\", line 251, in
        page_api\n    action_response = api_actions[action][\"handler\"](request_object)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        625, in _set\n    ruleset_dict = self._get_ruleset_configuration(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        586, in _get_ruleset_configuration\n    ruleset = collection.get(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/watolib.py\", line 7813, in
        get\n    return self._rulesets[name]\nKeyError: ''nonexistent''\n", "result_code":
        1}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '720'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Fri, 22 Mar 2019 15:34:13 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: 'request={''ruleset_name'': ''nonexistent'', ''ruleset'': {}}'
    headers:
      Connection:
      - close
      Content-Length:
      - '54'
      Content-Type:
      - application/x-www-form-urlencoded
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: POST
    uri: http://localhost/checkmd2/check_mk/webapi.py?action=set_ruleset&output_format=json&_secret=not_a_secret&_username=automation
  response:
    body:
      string: '{"result": "Unhandled exception: Traceback (most recent call last):\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/webapi.py\", line 251, in
        page_api\n    action_response = api_actions[action][\"handler\"](request_object)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        625, in _set\n    ruleset_dict = self._get_ruleset_configuration(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        586, in _get_ruleset_configuration\n    ruleset = collection.get(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/watolib.py\", line 7813, in
        get\n    return self._rulesets[name]\nKeyError: ''nonexistent''\n", "result_code":
        1}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '720'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Fri, 22 Mar 2019 15:37:32 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
- request:
    body: 'request={''ruleset_name'': ''nonexistent'', ''ruleset'': {}}'
    headers:
      Connection:
      - close
      Content-Length:
      - '54'
      Content-Type:
      - application/x-www-form-urlencoded
      Host:
      - localhost
      User-Agent:
      - Python-urllib/3.5
    method: POST
    uri: http://localhost/checkmd2/check_mk/webapi.py?_secret=not_a_secret&output_format=json
  response:
    body:
      string: '{"result": "Unhandled exception: Traceback (most recent call last):\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/webapi.py\", line 251, in
        page_api\n    action_response = api_actions[action][\"handler\"](request_object)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        625, in _set\n    ruleset_dict = self._get_ruleset_configuration(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/plugins/webapi/webapi.py\", line
        586, in _get_ruleset_configuration\n    ruleset = collection.get(ruleset_name)\n  File
        \"/omd/sites/checkmd2/share/check_mk/web/htdocs/watolib.py\", line 7813, in
        get\n    return self._rulesets[name]\nKeyError: ''nonexistent''\n", "result_code":
        1}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - close
      Content-Length:
      - '720'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 25 Mar 2019 16:56:56 GMT
      Server:
      - Apache/2.4.25 (Debian)
      Set-Cookie:
      - language=en; path=/; httponly
      Vary:
      - Cookie
    status:
      code: 200
      message: OK
version: 1
